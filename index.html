<!DOCTYPE html>
<html lang="ja">

<head prefix="og: https://ogp.me/ns#">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <meta http-equiv="default-style" content="./style.css">

    <link rel="shortcut icon" href="./favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="icon" href="./favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">

    <meta name="description" content="QRコードを用いた外苑祭チケットシステムです。チケットを発行して、URLを共有することで他の人にも共有ができます。読み取り履歴機能もついています。">
    <meta name="author" content="Rio Gunawan">
    <meta name="theme-color" content="#13203a">
    <title>外苑祭チケットシステム</title>

    <meta property="og:site_name" content="外苑祭チケットシステム" />
    <meta property="og:title" content="外苑祭チケットシステム メニュー" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content=" https://rio-gunawan.github.io/gaiensai-ticket/index.html" />
    <meta property="og:image" content=" https://rio-gunawan.github.io/gaiensai-ticket/images/ogp.png" />
    <meta property="og:description" content="QRコードを用いた外苑祭チケットシステムです。チケットを発行して、URLを共有することで他の人にも共有ができます。読み取り履歴機能もついています。" />
</head>

<body>
    <header>
        <h1><img src="./images/icho_background.svg" alt="アイコン">外苑祭チケットシステム メニュー</h1>
    </header>
    <ul class="top-page-menu">
        <li><a href="./issue.html">チケット発券</a></li>
        <li><a href="./scan.html">チケット読み取り</a></li>
        <li><a href="./history.html">読み取り履歴</a></li>
    </ul>
    <p style="text-align: center;">※チケット読み取り・履歴はiPadでご利用ください。</p>
    <section>
        <h2>使い方</h2>
        <p>
            1. チケット発券ページでチケットを発券してください。<br>
            2. 発券したチケットのQRコードを保存または印刷してください。<br>
            3. 他人に共有する場合は、QRコードのスクリーンショットまたは発行されたURLを送信してください。<br>
            4. イベント当日は、保存または印刷したQRコードを受付で提示してください。<br>
            5. スタッフがQRコードを読み取り、入場を許可します。<br>
            6. 楽しい時間をお過ごしください！
        </p>
    </section>
    <section>
        <h2>探究での使い方の予定</h2>
        <ul>
            <li>紙とQRコードでどのくらい速さに差があるか(10人とかで実験)</li>
            <li>どのように不正な複製を防いでいるか</li>
            <li>デジタル機器を持っていない・苦手な人への対応</li>
            <li>バグが生じた時の対応</li>
            <li>読み取り履歴に表示すべき項目</li>
            <li>その他、実際に使ってからわかった課題</li>
        </ul>
        <p>などを書けば、十分な文量を稼げるのではないかと思います。</p>
    </section>
    <section>
        <h2>詳細な機能</h2>
        <h3>チケット発券</h3>
        <ul>
            <li>入力したデータを元にQRコードを生成</li>
            <li>学年・クラス・番号がありえない数字の場合は発券を拒否</li>
            <li>全く同じ条件で発券しても、QRコードが被らないよう処理</li>
            <li>入力したデータを暗号化し、チェックディジットも追加</li>
        </ul>
        <h3>チケット表示</h3>
        <ul>
            <li>URLに追加されたデータを元にQRコードを表示</li>
            <li>共有用のURLを表示・コピー</li>
            <li>URLが正しいかどうかをチェック</li>
            <li>QRコードに埋め込まれた情報を全て表示</li>
        </ul>
        <h3>チケット読み取り</h3>
        <ul>
            <li>QRコードを読み取って、「有効」「再入場」「無効」を判定</li>
            <li>読み取ったQRコードを履歴に追加</li>
            <li>各公演を選択すると、チケットがその公演かどうかも判定</li>
            <li>判定結果は、色で強調して表示</li>
            <li>「校内入場」では、関係が「家族」だった場合に、左下に大きく表示して、名札を渡すかどうかの判別をやりやすくする</li>
            <li>読み取れない時は手動入力できる</li>
            <li>カメラの向きを切り替え可</li>
            <li>URLの後に「?class=0(クラスの番号)」などと入れると、読み取りモードのクラスの初期設定が変わる</li>
            <li>読み取った時に音声（効果音と読み上げ）が鳴る（iPadが消音モードだとならない）。失敗時や再入場だと音が変わる。</li>
            <li>このページの設定項目の多くは、Cookieに保存しているためリロードしても消えない</li>
        </ul>
        <h3>読み取り履歴</h3>
        <ul>
            <li>読み取り履歴を色々な項目での合計で表示（サマリー）</li>
            <li>読み取り履歴を表でひとつづつ表示（一覧）</li>
            <li>CSVでダウンロードして、Excel等で編集可能にする</li>
            <li>全削除機能</li>
        </ul>
    </section>
    <section>
        <h2>現在できないこと、課題</h2>
        <ul>
            <li>各公演50まで、という枚数制限：サーバー代がかかる</li>
            <li>発券したQRコード一覧ページ：枚数制限がないので不要かと</li>
            <li>チケットキャンセル：サーバーがないとできない</li>
            <li>読み取りで、公演回を自動選択できない：時間がわかればすぐ作れる</li>
            <li>グループで来た人でも、小さい子でも一人一人読み込む必要がある。まとめて一つのQRコードにするのは可能だが、複雑で難解になる。</li>
            <li>ドメインを青高らしくする：ドメインを買わないといけない</li>
            <li>読み取り履歴を共通化：現在はそれぞれの端末で読み取った情報が保存されているだけ。共通化にはサーバーがいる。</li>
            <li>セキュリティ①：発券で、簡単に他人になりすますことができる。パスワードをつけるにはサーバーが必要。</li>
            <li>セキュリティ②：全ての処理をJavaScriptで行っているので、コードが読めてしまう。つまり不正にQRを作成できてしまう。</li>
        </ul>
    </section>
    <section>
        <h2>仕様した言語、ライブラリ</h2>
        <ul>
            <li>HTML</li>
            <li>CSS</li>
            <li>JavaScript</li>
            <li>jQuery</li>
            <li>html5-qrcode.js</li>
            <li>qrcode.js</li>
            <li>Google Fonts</li>
            <li>読み取りデータなどはブラウザ内の「LocalStorage」に保存</li>
        </ul>
    </section>
    <footer>
        <div class="footer-container">
            <div class="footer-links">
                <ul>
                    <li><a href="./index.html">トップ</a></li>
                    <li><a href="./issue.html">チケット発券</a></li>
                    <li><a href="./scan.html">チケット読み取り</a></li>
                </ul>
                <ul>
                    <li><a href="./history.html">読み取り履歴</a></li>
                    <li><a href="mailto:ribbongrapes@gmail.com">お問い合わせ</a></li>
                    <li><a href="https://github.com/Rio-Gunawan/gaiensai-ticket">ソースコード</a></li>
                </ul>
            </div>
            <div>
                <p>外苑祭チケットシステム ver. 0.1.1</p>
                <p>最終更新日: 2025/11/17</p>
                <p>&copy; 2025 Rio Gunawan. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="./lib/jquery-3.7.1.min.js"></script>
    <script src="main.js"></script>
</body>

</html>